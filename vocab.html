<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=yes">
    <title>ÂÆåÊï¥Áâà¬∑ÂÖãÊºèÂ≠óÊ∏¨È©ó ¬∑ 339ÂñÆÂ≠ó</title>
    <style>
        * {
            box-sizing: border-box;
            font-family: system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', sans-serif;
            margin: 0;
            padding: 0;
        }
        body {
            background: #f5f0e9;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: flex-start;
            padding: 12px 8px;
        }
        .game-wrapper {
            width: 100%;
            max-width: 560px;
            background: white;
            border-radius: 40px 40px 30px 30px;
            box-shadow: 0 20px 35px rgba(60, 40, 20, 0.2);
            overflow: hidden;
            padding: 20px 16px 25px;
            border: 1px solid #ffe4bc;
        }
        h1 {
            font-size: 1.8rem;
            font-weight: 700;
            color: #3e2c1a;
            padding-bottom: 6px;
            display: flex;
            align-items: center;
            gap: 6px;
            border-bottom: 3px solid #dbbd9a;
        }
        h1 span {
            background: #7b5e3c;
            color: white;
            font-size: 0.8rem;
            padding: 5px 12px;
            border-radius: 40px;
            margin-left: auto;
            font-weight: 400;
            white-space: nowrap;
        }
        .stats {
            display: flex;
            justify-content: space-between;
            background: #efe4d5;
            padding: 12px 18px;
            border-radius: 60px;
            margin: 16px 0 14px;
            font-weight: 600;
            color: #3e2c1a;
        }
        .score {
            background: #3e2c1a;
            color: #f9e9d7;
            padding: 4px 20px;
            border-radius: 30px;
        }
        .question-box {
            background: #fef9f2;
            border-radius: 32px;
            padding: 28px 14px 20px;
            box-shadow: inset 0 0 0 1px #eddcc9, 0 8px 18px rgba(110, 70, 30, 0.1);
            margin-bottom: 18px;
            border: 1px solid #f5dbb1;
        }
        .sentence {
            font-size: 1.3rem;
            font-weight: 500;
            line-height: 1.5;
            color: #2a1f0f;
            text-align: center;
            word-break: break-word;
        }
        .blank-highlight {
            display: inline-block;
            background: #fae1b8;
            padding: 4px 14px;
            border-radius: 50px;
            font-weight: 700;
            color: #542e00;
            text-decoration: underline wavy #b2632c 2px;
            margin: 0 4px;
            font-size: 1.2rem;
        }
        .part-of-speech {
            text-align: center;
            margin: 8px 0 4px;
            color: #936e42;
            font-size: 0.95rem;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        .options-grid {
            display: flex;
            flex-direction: column;
            gap: 10px;
            margin: 20px 0 15px;
        }
        .option-btn {
            background: #fefcf8;
            border: 2px solid #d4b58c;
            padding: 16px 16px;
            border-radius: 60px;
            font-size: 1.2rem;
            font-weight: 500;
            color: #2f2a1f;
            text-align: left;
            display: flex;
            align-items: center;
            gap: 15px;
            transition: all 0.08s ease;
            box-shadow: 0 3px 0 #b3936e;
            cursor: pointer;
            -webkit-tap-highlight-color: transparent;
        }
        .option-btn:active {
            transform: translateY(2px);
            box-shadow: none;
        }
        .option-btn.disabled-true, .option-btn:disabled {
            opacity: 0.6;
            pointer-events: none;
        }
        .option-prefix {
            background: #dcc9b2;
            width: 38px;
            height: 38px;
            border-radius: 50%;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            font-weight: 800;
            color: #3e2c1a;
            font-size: 1.2rem;
        }
        .feedback-panel {
            background: #fff7e7;
            border-radius: 28px;
            padding: 18px 14px;
            margin: 10px 0 5px;
            border-left: 10px solid #b58b5a;
        }
        .correct-feedback {
            color: #1f7840;
            font-weight: 700;
            font-size: 1.3rem;
        }
        .wrong-feedback {
            color: #b34141;
            font-weight: 600;
        }
        .chinese-meaning {
            background: #ffebd2;
            padding: 12px 15px;
            border-radius: 40px;
            font-size: 1.25rem;
            color: #5a3400;
            border: 1px solid #e5b684;
            margin-top: 12px;
            font-weight: 500;
            word-break: break-word;
        }
        .chinese-meaning span {
            font-weight: 300;
            color: #7b5200;
        }
        .next-btn {
            background: #8b6b44;
            width: 100%;
            border: none;
            color: white;
            font-size: 1.6rem;
            font-weight: 600;
            padding: 16px 0;
            border-radius: 60px;
            margin-top: 20px;
            box-shadow: 0 6px 0 #533e24;
            cursor: pointer;
            transition: 0.06s linear;
            text-align: center;
        }
        .next-btn:active {
            transform: translateY(5px);
            box-shadow: 0 1px 0 #533e24;
        }
        .next-btn:disabled {
            opacity: 0.25;
            transform: none;
            pointer-events: none;
        }
        .reset-area {
            margin-top: 16px;
            display: flex;
            justify-content: center;
        }
        .reset-btn {
            background: none;
            border: none;
            color: #7b5e3c;
            font-size: 1.1rem;
            text-decoration: underline dotted;
            padding: 10px 20px;
            cursor: pointer;
        }
        .small-note {
            color: #8b775b;
            font-size: 0.8rem;
            margin-top: 15px;
            text-align: center;
        }
    </style>
</head>
<body>
<div class="game-wrapper" id="gameApp">
    <h1>üìö 339words <span>Chinese traditional</span></h1>
    <div class="stats">
        <span>üìå <span id="currentQ">1</span>/<span id="totalQ">339</span></span>
        <span class="score" id="scoreDisplay">‚≠ê 0</span>
    </div>

    <div class="question-box">
        <div class="part-of-speech" id="posTag">‚ãØ</div>
        <div class="sentence" id="sentenceHolder">loading‚ãØ</div>
    </div>

    <div id="optionsContainer" class="options-grid"></div>

    <div id="feedbackArea" class="feedback-panel" style="display: none;"></div>

    <button class="next-btn" id="nextBtn" disabled>‚ñ∂ Next question</button>
    <div class="reset-area">
        <button class="reset-btn" id="resetBtn">‚ü≤ Reset (random)(music)</button>
    </div>
    <div class="small-note">‚úîÔ∏è 339 words total</div>
</div>

<audio id="myAudio" src="music/Tunak.mp3" loop></audio>

<script>
(function() {
    // ==================== ÂÆåÊï¥ÂñÆÂ≠óÂàóË°® 339È†Ö (ÂÆåÂÖ®Ê†πÊìöÊÇ®ÁöÑÂàÜÈ°û) ====================
    const fullWordList = [
        // 1. Êï∏Â≠∏ËàáÁßëÂ≠∏ÈÅãÁÆó (21)
        { en: "subtract", zh: "Ê∏õÂéª", pos: "v." },
        { en: "whole number", zh: "Êï¥Êï∏", pos: "n." },
        { en: "natural number", zh: "Ëá™ÁÑ∂Êï∏", pos: "n." },
        { en: "perimeter", zh: "Âë®Èï∑", pos: "n." },
        { en: "perimeter of a circle", zh: "ÂúìÁöÑÂë®Èï∑", pos: "n." },
        { en: "Quadrilateral", zh: "ÂõõÈÇäÂΩ¢", pos: "n./adj." },
        { en: "Divide the difference by the sum of x and y", zh: "Â∞áÂ∑ÆÈô§‰ª• x Ëàá y ÁöÑÂíå", pos: "phrase" },
        { en: "consecutive", zh: "ÈÄ£Á∫åÁöÑ", pos: "adj." },
        { en: "halve", zh: "Ê∏õÂçä", pos: "v." },
        { en: "root", zh: "Ê†π", pos: "n." },
        { en: "analysis", zh: "ÂàÜÊûê", pos: "n." },
        { en: "velocity", zh: "ÈÄüÂ∫¶", pos: "n." },
        { en: "capacity", zh: "ÂÆπÈáè", pos: "n." },
        { en: "resistance", zh: "ÈòªÂäõ", pos: "n." },
        { en: "Air resistance", zh: "Á©∫Ê∞£ÈòªÂäõ", pos: "n." },
        { en: "drag", zh: "ÈòªÂäõ", pos: "n." },
        { en: "friction", zh: "Êë©Êì¶Âäõ", pos: "n." },
        { en: "kinetic energy", zh: "ÂãïËÉΩ", pos: "n." },
        { en: "potential and kinetic", zh: "‰ΩçËÉΩËàáÂãïËÉΩÁöÑ", pos: "adj." },
        { en: "aggregate", zh: "Á∏ΩË®à", pos: "n./v." },
        
        // 2. ÂåñÂ≠∏ÂØ¶È©óËàáÂô®Êùê (14)
        { en: "reagent bottle", zh: "Ë©¶ÂäëÁì∂", pos: "n." },
        { en: "conical flask", zh: "ÈåêÂΩ¢Áì∂", pos: "n." },
        { en: "evaporating", zh: "Ëí∏Áôº", pos: "v." },
        { en: "oxidizing", zh: "Ê∞ßÂåñ", pos: "v." },
        { en: "spring balance", zh: "ÂΩàÁ∞ßÁß§", pos: "n." },
        { en: "apparatus", zh: "Ë£ùÁΩÆ", pos: "n." },
        { en: "fume", zh: "ÁÖô", pos: "n." },
        { en: "carcinogenic", zh: "Ëá¥ÁôåÁöÑ", pos: "adj." },
        { en: "irritant", zh: "Âà∫ÊøÄÁâ©", pos: "n." },
        { en: "Supply of water", zh: "Ê∞¥ÁöÑ‰æõÊáâ", pos: "n." },
        { en: "drainage", zh: "ÊéíÊ∞¥", pos: "n." },
        { en: "ballistic missile", zh: "ÂΩàÈÅìÂ∞éÂΩà", pos: "n." },
        { en: "ballistic", zh: "ÂΩàÈÅìÁöÑ", pos: "adj." },
        { en: "thyroid gland", zh: "Áî≤ÁãÄËÖ∫", pos: "n." },
        
        // 3. Áâ©ÁêÜÁâ©‰ª∂ËàáÊùêÊñô (34)
        { en: "bulb", zh: "ÈõªÁáàÊ≥°", pos: "n." },
        { en: "spectacles", zh: "ÁúºÈè°", pos: "n." },
        { en: "quilt", zh: "Ë¢´Ë§•", pos: "n." },
        { en: "furniture", zh: "ÂÇ¢‰ø¨", pos: "n." },
        { en: "crockery", zh: "Èô∂Âô®", pos: "n." },
        { en: "envelope", zh: "‰ø°Â∞Å", pos: "n." },
        { en: "badge", zh: "ÂæΩÁ´†", pos: "n." },
        { en: "bolt", zh: "Ëû∫Ê†ì", pos: "n." },
        { en: "tent", zh: "Â∏≥ÁØ∑", pos: "n." },
        { en: "porcelain", zh: "Áì∑Âô®", pos: "n." },
        { en: "shovel", zh: "ÈèüÂ≠ê", pos: "n." },
        { en: "paddle", zh: "Êß≥", pos: "n." },
        { en: "fence", zh: "ÊüµÊ¨Ñ", pos: "n." },
        { en: "lobe", zh: "ËëâÔºõËÄ≥ÂûÇ", pos: "n." },
        { en: "clutches", zh: "Èõ¢ÂêàÂô®", pos: "n." },
        { en: "titanium", zh: "Èà¶", pos: "n." },
        { en: "uranium", zh: "Èàæ", pos: "n." },
        { en: "nylon", zh: "Â∞ºÈæç", pos: "n." },
        { en: "woollen", zh: "ÁæäÊØõÁöÑ", pos: "adj." },
        { en: "silk", zh: "Áµ≤Á∂¢", pos: "n." },
        { en: "fleece", zh: "ÁæäÊØõ", pos: "n." },
        { en: "opium", zh: "È¥âÁâá", pos: "n." },
        { en: "fentanyl", zh: "Ëä¨Â§™Â∞º", pos: "n." },
        { en: "medicine", zh: "Ëó•Áâ©", pos: "n." },
        { en: "dose", zh: "ÂäëÈáè", pos: "n." },
        
        // 4. Âú∞Êñπ„ÄÅÂª∫ÁØâËàáÂú∞ÁêÜ (21)
        { en: "chimney", zh: "ÁÖôÂõ™", pos: "n." },
        { en: "canal", zh: "ÈÅãÊ≤≥", pos: "n." },
        { en: "pier", zh: "Á¢ºÈ†≠", pos: "n." },
        { en: "reservoir", zh: "Ê∞¥Â∫´", pos: "n." },
        { en: "crematorium", zh: "ÁÅ´Ëë¨Â†¥", pos: "n." },
        { en: "garages", zh: "ËªäÂ∫´", pos: "n." },
        { en: "lobby", zh: "Â§ßÂª≥", pos: "n." },
        { en: "orphanage", zh: "Â≠§ÂÖíÈô¢", pos: "n." },
        { en: "basketball court", zh: "Á±ÉÁêÉÂ†¥", pos: "n." },
        { en: "trenches", zh: "Êà∞Â£ï", pos: "n." },
        { en: "rockery", zh: "ÂÅáÂ±±", pos: "n." },
        { en: "institute", zh: "Á†îÁ©∂ÊâÄ", pos: "n." },
        { en: "free port", zh: "Ëá™Áî±Ê∏Ø", pos: "n." },
        { en: "field", zh: "Â†¥Âú∞", pos: "n." },
        { en: "scene", zh: "Â†¥ÊôØ", pos: "n." },
        { en: "Destination", zh: "ÁõÆÁöÑÂú∞", pos: "n." },
        { en: "earthquake belt", zh: "Âú∞ÈúáÂ∏∂", pos: "n." },
        { en: "channel", zh: "Ê∏†ÈÅì", pos: "n." },
        
        // 5. Ëá™ÁÑ∂ËàáÁí∞Â¢É (12)
        { en: "weather", zh: "Â§©Ê∞£", pos: "n." },
        { en: "atmosphere", zh: "Ê∞£Ê∞õ", pos: "n." },
        { en: "biodiversity", zh: "ÁîüÁâ©Â§öÊ®£ÊÄß", pos: "n." },
        { en: "deforestation", zh: "Ê£ÆÊûóÁ†ç‰ºê", pos: "n." },
        { en: "Hurricane", zh: "È¢∂È¢®", pos: "n." },
        { en: "precipitation", zh: "ÈôçÊ∞¥", pos: "n." },
        { en: "celestial", zh: "Â§©È´îÁöÑ", pos: "adj." },
        { en: "littered", zh: "Êï£ËêΩ", pos: "v." },
        { en: "emissions", zh: "ÊéíÊîæÁâ©", pos: "n." },
        { en: "hygiene", zh: "Ë°õÁîü", pos: "n." },
        
        // 6. ‰∫∫Áâ©„ÄÅËÅ∑Ê•≠ËàáÂãïÁâ© (26)
        { en: "corgi", zh: "ÊüØÂü∫Áä¨", pos: "n." },
        { en: "profiteers", zh: "Â•∏ÂïÜ", pos: "n." },
        { en: "servant", zh: "ÂÉï‰∫∫", pos: "n." },
        { en: "psychologists", zh: "ÂøÉÁêÜÂ≠∏ÂÆ∂", pos: "n." },
        { en: "economists", zh: "Á∂ìÊøüÂ≠∏ÂÆ∂", pos: "n." },
        { en: "detective", zh: "ÂÅµÊé¢", pos: "n." },
        { en: "terrorist", zh: "ÊÅêÊÄñÂàÜÂ≠ê", pos: "n." },
        { en: "conjurer", zh: "È≠îË°ìÂ∏´", pos: "n." },
        { en: "genius", zh: "Â§©Êâç", pos: "n." },
        { en: "latino", zh: "Êãâ‰∏ÅË£î", pos: "n." },
        { en: "athlete", zh: "ÈÅãÂãïÂì°", pos: "n." },
        { en: "competitor", zh: "Á´∂Áà≠Â∞çÊâã", pos: "n." },
        { en: "referee", zh: "Ë£ÅÂà§", pos: "n." },
        { en: "spectator", zh: "ËßÄÁúæ", pos: "n." },
        { en: "champion", zh: "ÂÜ†Ëªç", pos: "n." },
        { en: "colleague", zh: "Âêå‰∫ã", pos: "n." },
        { en: "frenemy", zh: "‰∫¶Êïµ‰∫¶Âèã", pos: "n." },
        { en: "introvert", zh: "ÂÖßÂêëÁöÑ‰∫∫", pos: "n." },
        { en: "morning person", zh: "Êó©Ëµ∑ÁöÑ‰∫∫", pos: "n." },
        { en: "The Finance Secretary", zh: "Ë≤°ÊîøÂè∏Âè∏Èï∑", pos: "n." },
        { en: "thief", zh: "Ë≥ä", pos: "n." },
        { en: "fool", zh: "ÂÇªÁìú", pos: "n." },
        
        // 7. ÂøÉÊô∫Ê¥ªÂãïËàáÊ∫ùÈÄö (33)
        { en: "consider", zh: "ËÄÉÊÖÆ", pos: "v." },
        { en: "guess", zh: "ÁåúÊ∏¨", pos: "v./n." },
        { en: "focus", zh: "Â∞àÊ≥®", pos: "v./n." },
        { en: "debate", zh: "ËæØË´ñ", pos: "n./v." },
        { en: "argue", zh: "Áà≠Ë´ñ", pos: "v." },
        { en: "quarrel", zh: "Áà≠Âêµ", pos: "n./v." },
        { en: "describe", zh: "ÂΩ¢ÂÆπ", pos: "v." },
        { en: "tell", zh: "ÂëäË®¥", pos: "v." },
        { en: "discuss", zh: "Ë®éË´ñ", pos: "v." },
        { en: "announced", zh: "ÂÆ£Â∏É", pos: "v." },
        { en: "negotiate", zh: "Ë´áÂà§", pos: "v." },
        { en: "oppose", zh: "ÂèçÂ∞ç", pos: "v." },
        { en: "recognise", zh: "ÊâøË™ç", pos: "v." },
        { en: "conceive", zh: "ÊßãÊÄù", pos: "v." },
        { en: "internalize", zh: "ÂÖßÂåñ", pos: "v." },
        { en: "assume", zh: "ÂÅáÂÆö", pos: "v." },
        { en: "doubt", zh: "Êá∑Áñë", pos: "v./n." },
        { en: "swear", zh: "ÁôºË™ì", pos: "v." },
        { en: "brag", zh: "ÂêπÂôì", pos: "v." },
        { en: "soothe", zh: "ÂÆâÊÖ∞", pos: "v." },
        { en: "abbreviation", zh: "Á∏ÆÂØ´", pos: "n." },
        { en: "metaphor", zh: "Èö±Âñª", pos: "n." },
        { en: "lyrics", zh: "Ê≠åË©û", pos: "n." },
        { en: "statement", zh: "ËÅ≤Êòé", pos: "n." },
        { en: "reference", zh: "ÂèÉËÄÉ", pos: "n." },
        { en: "pardon", zh: "Ë´ãÂÜçË™™‰∏ÄÈÅç", pos: "phrase" },
        
        // 8. Ë∫´È´îÂãï‰ΩúËàáÊ¥ªÂãï (23)
        { en: "ski", zh: "ÊªëÈõ™", pos: "v./n." },
        { en: "sway", zh: "ÊêñÊì∫", pos: "v." },
        { en: "sailing", zh: "Ëà™Êµ∑", pos: "n." },
        { en: "fencing", zh: "ÂäçÊìä", pos: "n." },
        { en: "shovel", zh: "Èèü", pos: "v." },
        { en: "suffocate", zh: "Á™íÊÅØ", pos: "v." },
        { en: "cling", zh: "Á∑äÊè°", pos: "v." },
        { en: "mourn", zh: "ÂìÄÊÇº", pos: "v." },
        { en: "embracing", zh: "ÊìÅÊä±", pos: "v." },
        { en: "poke", zh: "Êà≥", pos: "v." },
        { en: "wipe", zh: "Êì¶", pos: "v." },
        { en: "alternate", zh: "‰∫§Êõø", pos: "v." },
        { en: "drills", zh: "Ë®ìÁ∑¥", pos: "n./v." },
        { en: "accelerate", zh: "Âä†ÈÄü", pos: "v." },
        { en: "resist", zh: "ÊäµÊäó", pos: "v." },
        { en: "cruising", zh: "Â∑°Ëà™", pos: "v." },
        { en: "drifts", zh: "ÊºÇÁßª", pos: "v." },
        { en: "touring", zh: "Â∑°Ëø¥", pos: "v." },
        { en: "commute", zh: "ÈÄöÂã§", pos: "v." },
        
        // 9. ÊÑüÂÆòËàáÊÉÖÊÑü (24)
        { en: "appreciate", zh: "Ê¨£Ë≥û", pos: "v." },
        { en: "amuses", zh: "Â®õÊ®Ç", pos: "v." },
        { en: "cherish", zh: "ÁèçÊÉú", pos: "v." },
        { en: "admire", zh: "Ê¨£Ë≥û", pos: "v." },
        { en: "cringe", zh: "Â∞∑Â∞¨", pos: "adj./v." },
        { en: "depressed", zh: "ÊÜÇÈ¨±", pos: "adj." },
        { en: "contented", zh: "ÊªøË∂≥", pos: "adj." },
        { en: "sorrow", zh: "ÂÇ∑ÂøÉ", pos: "n." },
        { en: "heartache", zh: "ÂøÉÁóõ", pos: "n." },
        { en: "nostalgia", zh: "Êá∑Ëàä", pos: "n." },
        { en: "potentially nostalgic", zh: "ÂèØËÉΩÊá∑ËàäÁöÑ", pos: "adj." },
        { en: "pleasure", zh: "Âø´Ê®Ç", pos: "n." },
        { en: "gratitude", zh: "ÊÑüË¨ù", pos: "n." },
        { en: "desire", zh: "ÊÖæÊúõ", pos: "n./v." },
        { en: "satisfaction", zh: "ÊªøÊÑè", pos: "n." },
        { en: "charm", zh: "È≠ÖÂäõ", pos: "n." },
        { en: "Spirit", zh: "Á≤æÁ•û", pos: "n." },
        { en: "soul", zh: "ÈùàÈ≠Ç", pos: "n." },
        { en: "clarity", zh: "Ê∏ÖÊô∞Â∫¶", pos: "n." },
        { en: "intimacy", zh: "Ë¶™ÂØÜ", pos: "n." },
        { en: "regretting", zh: "ÂæåÊÇî", pos: "v." },
        
        // 10. ÊÄßÊ†ºËàáÁãÄÊÖã (32)
        { en: "clumsy", zh: "Á¨®ÊãôÁöÑ", pos: "adj." },
        { en: "glaring", zh: "ËÄÄÁúºÁöÑ", pos: "adj." },
        { en: "twinkling", zh: "ÈñÉÁàçÁöÑ", pos: "adj." },
        { en: "cringe", zh: "Â∞∑Â∞¨ÁöÑ", pos: "adj." },
        { en: "constructive", zh: "Âª∫Ë®≠ÊÄßÁöÑ", pos: "adj." },
        { en: "destructively", zh: "Á†¥Â£ûÊÄßÂú∞", pos: "adv." },
        { en: "thorny", zh: "Ê£òÊâãÁöÑ", pos: "adj." },
        { en: "inventive", zh: "ÊúâÂâµÊÑèÁöÑ", pos: "adj." },
        { en: "humble", zh: "Ë¨ôËôõÁöÑ", pos: "adj." },
        { en: "genuine", zh: "ÁúüË™†ÁöÑ", pos: "adj." },
        { en: "vibrant", zh: "ÂÖÖÊªøÊ¥ªÂäõÁöÑ", pos: "adj." },
        { en: "motivated", zh: "ÊúâÂãïÊ©üÁöÑ", pos: "adj." },
        { en: "intrusive", zh: "‰æµÂÖ•ÊÄßÁöÑ", pos: "adj." },
        { en: "uninhibited", zh: "ÁÑ°ÊäëÂà∂ÁöÑ", pos: "adj." },
        { en: "inhibited", zh: "ÊäëÂà∂ÁöÑ", pos: "adj." },
        { en: "chaotic", zh: "Ê∑∑‰∫ÇÁöÑ", pos: "adj." },
        { en: "mature", zh: "ÊàêÁÜüÁöÑ", pos: "adj." },
        { en: "engaging", zh: "Âºï‰∫∫ÂÖ•ÂãùÁöÑ", pos: "adj." },
        { en: "awkward", zh: "Â∞∑Â∞¨ÁöÑ", pos: "adj." },
        { en: "jealous", zh: "Â¶íÂøåÁöÑ", pos: "adj." },
        { en: "introspective", zh: "ÂÖßÁúÅÁöÑ", pos: "adj." },
        { en: "steady", zh: "Á©©ÂÆöÁöÑ", pos: "adj." },
        { en: "slippery", zh: "Áã°ÁåæÁöÑ", pos: "adj." },
        { en: "vulnerable", zh: "ËÑÜÂº±ÁöÑ", pos: "adj." },
        { en: "transparent", zh: "ÈÄèÊòéÁöÑ", pos: "adj." },
        { en: "innocent", zh: "ÁÑ°ËæúÁöÑ", pos: "adj." },
        { en: "affirmative", zh: "ËÇØÂÆöÁöÑ", pos: "adj." },
        { en: "obtuse", zh: "ÈÅ≤ÈàçÁöÑ", pos: "adj." },
        
        // 11. Á§æÊúÉ„ÄÅÊîøÊ≤ªËàáÁ∂ìÊøü (31)
        { en: "corruption", zh: "ËÖêÊïó", pos: "n." },
        { en: "cheat people", zh: "ÂëÉ‰∫∫", pos: "v." },
        { en: "denial", zh: "ÊäµË≥¥", pos: "n." },
        { en: "Increased denial", zh: "ÊäµË≥¥Â¢ûÂä†", pos: "phrase" },
        { en: "government", zh: "ÊîøÂ∫ú", pos: "n." },
        { en: "institutional", zh: "Âà∂Â∫¶‰∏ä", pos: "adj." },
        { en: "ministry", zh: "ÈÉ®", pos: "n." },
        { en: "foreign ministry", zh: "Â§ñ‰∫§ÈÉ®", pos: "n." },
        { en: "Summit", zh: "È´òÂ≥∞ÊúÉ", pos: "n." },
        { en: "coercion", zh: "Âº∫Ëø´", pos: "n." },
        { en: "commerce", zh: "ÂïÜÊ•≠", pos: "n." },
        { en: "Interest", zh: "Âà©ÊÅØ", pos: "n." },
        { en: "Operation", zh: "ÈÅã‰Ωú", pos: "n." },
        { en: "economies", zh: "Á∂ìÊøüÈ´î", pos: "n." },
        { en: "export", zh: "Âá∫Âè£", pos: "v./n." },
        { en: "import", zh: "ÈÄ≤Âè£", pos: "v./n." },
        { en: "tariffs", zh: "ÈóúÁ®Ö", pos: "n." },
        { en: "curb", zh: "ÈôêÂà∂", pos: "v./n." },
        { en: "prosperity", zh: "ÁπÅÊ¶Æ", pos: "n." },
        { en: "safeguard", zh: "‰øùÈöú", pos: "v./n." },
        { en: "tension", zh: "Á∑äÂºµ", pos: "n." },
        { en: "crop", zh: "Ëæ≤‰ΩúÁâ©", pos: "n." },
        { en: "agricultural", zh: "Ëæ≤Ê•≠ÁöÑ", pos: "adj." },
        { en: "fishing vessels", zh: "ÊºÅËàπ", pos: "n." },
        { en: "vessels", zh: "ËàπËà∂", pos: "n." },
        { en: "development", zh: "ÁôºÂ±ï", pos: "v." },
        { en: "renovations", zh: "ÁøªÊñ∞Â∑•Á®ã", pos: "n." },
        { en: "terrorism", zh: "ÊÅêÊÄñ‰∏ªÁæ©", pos: "n." },
        { en: "crime", zh: "ÁΩ™Ë°å", pos: "n." },
        { en: "divorce", zh: "Èõ¢Â©ö", pos: "n./v." },
        { en: "welfare", zh: "Á¶èÂà©", pos: "n." },
        { en: "currency", zh: "Ë≤®Âπ£", pos: "n." },
        { en: "purchases", zh: "Ë≥ºË≤∑", pos: "n." },
        
        // 12. Â≠∏Áßë„ÄÅËóùË°ìËàáÊñáÂåñ (20)
        { en: "Application", zh: "ÊáâÁî®", pos: "n." },
        { en: "aeronautics", zh: "Ëà™Á©∫Â≠∏", pos: "n." },
        { en: "rocketry", zh: "ÁÅ´ÁÆ≠ÊäÄË°ì", pos: "n." },
        { en: "zoology", zh: "ÂãïÁâ©Â≠∏", pos: "n." },
        { en: "psychology", zh: "ÂøÉÁêÜÂ≠∏", pos: "n." },
        { en: "cosmology", zh: "ÂÆáÂÆôÂ≠∏", pos: "n." },
        { en: "phonic", zh: "Ë™ûÈü≥ÁöÑ", pos: "adj." },
        { en: "education", zh: "ÊïôËÇ≤", pos: "n." },
        { en: "entertainment", zh: "Â®õÊ®Ç", pos: "n." },
        { en: "tourism", zh: "ÊóÖÈÅäÊ•≠", pos: "n." },
        { en: "culinary", zh: "ÁÉπÈ£™ÁöÑ", pos: "adj." },
        { en: "Heritage", zh: "ÈÅ∫Áî¢", pos: "n." },
        { en: "tradition", zh: "ÂÇ≥Áµ±", pos: "n." },
        { en: "Orchestra", zh: "ÁÆ°Âº¶Ê®ÇÂúò", pos: "n." },
        { en: "legend", zh: "ÂÇ≥Â•á", pos: "n." },
        { en: "fairytale", zh: "Á´•Ë©±ÊïÖ‰∫ã", pos: "n." },
        { en: "religion", zh: "ÂÆóÊïô", pos: "n." },
        { en: "holy spirit", zh: "ËÅñÈùà", pos: "n." },
        { en: "doctrines", zh: "ÊïôÁæ©", pos: "n." },
        { en: "ideologies", zh: "ÊÑèË≠òÂΩ¢ÊÖã", pos: "n." },
        { en: "Rationalism", zh: "ÁêÜÊÄß‰∏ªÁæ©", pos: "n." },
        { en: "realism", zh: "ÁèæÂØ¶‰∏ªÁæ©", pos: "n." },
        
        // 13. ÊäΩË±°Ê¶ÇÂøµËàáÂ±¨ÊÄß (40)
        { en: "natural", zh: "Ëá™ÁÑ∂ÁöÑ", pos: "adj." },
        { en: "current", zh: "ÁõÆÂâçÁöÑ", pos: "adj." },
        { en: "breadth", zh: "Âª£Â∫¶", pos: "n." },
        { en: "strength", zh: "ÂäõÈáè", pos: "n." },
        { en: "reality", zh: "ÁèæÂØ¶", pos: "n." },
        { en: "condition", zh: "Ê¢ù‰ª∂", pos: "n." },
        { en: "factor", zh: "Âõ†Á¥†", pos: "n." },
        { en: "belief", zh: "‰ø°Âøµ", pos: "n." },
        { en: "foundation", zh: "Âü∫Á§é", pos: "n." },
        { en: "atmosphere", zh: "Ê∞£Ê∞õ", pos: "n." },
        { en: "era", zh: "Âπ¥‰ª£", pos: "n." },
        { en: "completion", zh: "ÂÆåÊàê", pos: "n." },
        { en: "decline", zh: "‰∏ãÈôç", pos: "v./n." },
        { en: "shift", zh: "ËΩâËÆä", pos: "v./n." },
        { en: "complex", zh: "Ë§áÈõúÁöÑ", pos: "adj." },
        { en: "tremendous", zh: "Â∑®Â§ßÁöÑ", pos: "adj." },
        { en: "chronic", zh: "ÊÖ¢ÊÄßÁöÑ", pos: "adj." },
        { en: "usual", zh: "ÈÄöÂ∏∏ÁöÑ", pos: "adj." },
        { en: "wealthy", zh: "ÂØåË£ïÁöÑ", pos: "adj." },
        { en: "mutual", zh: "‰∫íÁõ∏ÁöÑ", pos: "adj." },
        { en: "additional", zh: "ÈôÑÂä†ÁöÑ", pos: "adj." },
        { en: "seamlessly", zh: "ÁÑ°Á∏´Âú∞", pos: "adv." },
        { en: "modern", zh: "Áèæ‰ª£ÁöÑ", pos: "adj." },
        { en: "pre-colonial", zh: "ÊÆñÊ∞ëÂú∞ÂâçÁöÑ", pos: "adj." },
        { en: "variety", zh: "ÂêÑÂºèÂêÑÊ®£", pos: "n." },
        { en: "trends", zh: "Ë∂®Âã¢", pos: "n." },
        { en: "categories", zh: "È°ûÂà•", pos: "n." },
        { en: "knowing", zh: "Áü•ÈÅì", pos: "adj." },
        { en: "actual", zh: "ÂØ¶ÈöõÁöÑ", pos: "adj." },
        { en: "perhaps", zh: "ÂèØËÉΩ", pos: "adv." },
        { en: "adjacent", zh: "ÊóÅÈÇäÁöÑ", pos: "adj." },
        { en: "exclusive", zh: "Áç®ÂÆ∂ÁöÑ", pos: "adj." },
        { en: "Longevity", zh: "Èï∑Â£Ω", pos: "n." },
        { en: "certainly", zh: "Áï∂ÁÑ∂", pos: "adv." },
        { en: "merely", zh: "Âè™ÊòØ", pos: "adv." },
        { en: "appealing", zh: "Âê∏Âºï‰∫∫ÁöÑ", pos: "adj." },
        { en: "nevertheless", zh: "‰∏çÈÅé", pos: "adv." },
        { en: "presently", zh: "ÁõÆÂâç", pos: "adv." },
        { en: "transatlantically", zh: "Ë∑®Â§ßË•øÊ¥ãÂú∞", pos: "adv." },
        { en: "transiently", zh: "Áû¨ÈñìÂú∞", pos: "adv." },
        { en: "amazingly", zh: "È©ö‰∫∫Âú∞", pos: "adv." },
        { en: "besides", zh: "Èô§‰∫Ü", pos: "prep./adv." },
        { en: "despite", zh: "ÂÑòÁÆ°", pos: "prep." },
        
        // 14. Ë≠¶Á§∫„ÄÅË¶èÂâáËàáÈÅéÁ®ã (18)
        { en: "precaution", zh: "È†êÈò≤", pos: "n." },
        { en: "warning", zh: "Ë≠¶Âëä", pos: "n." },
        { en: "Pay attention", zh: "ÁïôÂøÉ", pos: "phrase" },
        { en: "You can't be reckless in anything", zh: "Âá°‰∫ã‰∏çÂèØÈ≠ØËéΩ", pos: "phrase" },
        { en: "Contains gambling ingredients", zh: "Âê´ÊúâË≥≠ÂçöÊàê‰ªΩ", pos: "phrase" },
        { en: "condition", zh: "Ê¢ù‰ª∂", pos: "n." },
        { en: "criteria", zh: "Ê®ôÊ∫ñ", pos: "n." },
        { en: "provision", zh: "Ê¢ùÊñá", pos: "n." },
        { en: "attempt", zh: "ÂòóË©¶", pos: "n./v." },
        { en: "began", zh: "ÈñãÂßã", pos: "v." },
        { en: "process", zh: "ÈÅéÁ®ã", pos: "n." },
        { en: "mechanism", zh: "Ê©üÂà∂", pos: "n." },
        { en: "consequence", zh: "ÂæåÊûú", pos: "n." },
        { en: "issues", zh: "ÂïèÈ°å", pos: "n." },
        { en: "threatened", zh: "Â®ÅËÑÖ", pos: "v." },
        { en: "de-escalate", zh: "ÈôçÁ¥ö", pos: "v." },
        { en: "major stumbling", zh: "ÈáçÂ§ßÈöúÁ§ô", pos: "n." },
        
        // 15. Èóú‰øÇËàá‰∫íÂãï (18)
        { en: "depend", zh: "‰æùË≥¥", pos: "v." },
        { en: "involves", zh: "Ê∂âÂèä", pos: "v." },
        { en: "one another", zh: "ÂΩºÊ≠§", pos: "pron." },
        { en: "Sharing the Work", zh: "ÂàÜÊìîÂ∑•‰Ωú", pos: "phrase" },
        { en: "attach", zh: "Èö®ÈôÑ", pos: "v." },
        { en: "corresponding", zh: "Â∞çÊáâÁöÑ", pos: "adj." },
        { en: "reunify", zh: "Áµ±‰∏Ä", pos: "v." },
        { en: "reciprocation", zh: "‰∫íÊÉ†", pos: "n." },
        { en: "committed", zh: "ÊäïÂÖ•ÁöÑ", pos: "adj." },
        { en: "assess", zh: "Ë©ïÊ†∏", pos: "v." },
        { en: "save", zh: "ÁØÄÁúÅ", pos: "v." },
        { en: "socialize", zh: "Á§æ‰∫§", pos: "v." },
        { en: "encompasses", zh: "ÂåÖÊã¨", pos: "v." },
        { en: "categories", zh: "È°ûÂà•", pos: "n." }
    ];

    // ÂéªÈáçË§á (‰øùÁïôÈ¶ñÂÄã)
    const uniqueMap = new Map();
    fullWordList.forEach(item => {
        if (!uniqueMap.has(item.en)) uniqueMap.set(item.en, item);
    });
    const masterList = Array.from(uniqueMap.values());
    console.log('Á∏ΩË©ûÊï∏:', masterList.length); // ÊáâÁÇ∫339Â∑¶Âè≥

    // Ë£Ω‰ΩúÈ°åÂ∫´ÔºöÊØèÈ°åÈö®Ê©ü3ÂÄã‰∏çÂêåÈåØË™§ÈÅ∏È†Ö + Ê≠£Á¢∫ÈÅ∏È†Ö
    function shuffleArray(arr) {
        for (let i = arr.length - 1; i > 0; i--) {
            const j = Math.floor(Math.random() * (i + 1));
            [arr[i], arr[j]] = [arr[j], arr[i]];
        }
        return arr;
    }

    // Âª∫Á´ãÈ°åÁõÆ (ÊâÄÊúâË©ûÂΩôÈÉΩÂá∫Áèæ‰∏ÄÈÅç)
    let questions = [];
    const shuffledMaster = shuffleArray([...masterList]);

    for (let i = 0; i < shuffledMaster.length; i++) {
        const correct = shuffledMaster[i];
        // ÂÄôÈÅ∏ÂÖ∂‰ªñÂñÆÂ≠ó (ÊéíÈô§Ëá™Â∑±)
        const otherCandidates = masterList.filter(w => w.en !== correct.en).map(w => w.en);
        const shuffledOthers = shuffleArray(otherCandidates);
        const wrongEnList = shuffledOthers.slice(0, 3); // Âèñ3ÂÄã‰∏çÂêåÈåØË™§Á≠îÊ°à
        const wrongItems = [];
        for (let enc of wrongEnList) {
            const found = masterList.find(w => w.en === enc);
            if (found) wrongItems.push(found);
        }
        // Ëã•‰∏çË∂≥3ÂÄã(Ê•µÂ∞ëÊï∏ÊÉÖÊ≥Å) Ë£úÈ†êË®≠
        while (wrongItems.length < 3) {
            wrongItems.push({ en: "default", zh: "È†êË®≠", pos: "n." });
        }
        let options = [correct, ...wrongItems];
        options = shuffleArray(options); // Ê∑∑Âêà
        questions.push({
            correct: correct,
            options: options,
        });
    }

    // ÁãÄÊÖã
    let currentIndex = 0;
    let score = 0;
    let answered = false;
    let selectedOptionEn = "";

    const posSpan = document.getElementById('posTag');
    const sentenceDiv = document.getElementById('sentenceHolder');
    const optionsDiv = document.getElementById('optionsContainer');
    const feedbackDiv = document.getElementById('feedbackArea');
    const nextBtn = document.getElementById('nextBtn');
    const resetBtn = document.getElementById('resetBtn');
    const currentQSpan = document.getElementById('currentQ');
    const totalQSpan = document.getElementById('totalQ');
    const scoreSpan = document.getElementById('scoreDisplay');
    const myAudio = document.getElementById('myAudio');

    totalQSpan.innerText = questions.length;

    function playMusic() {
        if (myAudio) {
            myAudio.loop = true;
            if (myAudio.paused) {
                myAudio.play().catch(e => console.log('Audio play failed:', e));
            }
        }
    }

    function renderQuestion() {
        answered = false;
        const q = questions[currentIndex];
        const correctWord = q.correct.en;
        // Âè•Â≠êÂëàÁèæ (Â°´Á©∫)
        const sentence = `Ë´ãÈÅ∏Âá∫Ê≠£Á¢∫ÂñÆÂ≠óÔºö „Äå${q.correct.zh}„Äç ÁöÑËã±ÊñáÊòØÔºü`;
        sentenceDiv.innerHTML = sentence.replace('Ôºü', ` Ôºü <span class="blank-highlight">______</span>`);
        posSpan.innerText = q.correct.pos || '';

        let htmlStr = '';
        const letters = ['A', 'B', 'C', 'D'];
        q.options.forEach((opt, idx) => {
            htmlStr += `
                <div class="option-btn" data-en="${opt.en}" data-zh="${opt.zh}">
                    <span class="option-prefix">${letters[idx]}</span>
                    ${opt.en}
                </div>
            `;
        });
        optionsDiv.innerHTML = htmlStr;

        feedbackDiv.style.display = 'none';
        feedbackDiv.innerHTML = '';
        nextBtn.disabled = true;

        document.querySelectorAll('.option-btn').forEach(btn => {
            btn.addEventListener('click', (e) => {
                if (answered) return;
                const target = btn;
                const chosenEn = target.dataset.en;
                const correctEn = q.correct.en;
                const isCorrect = (chosenEn === correctEn);

                answered = true;
                selectedOptionEn = chosenEn;
                document.querySelectorAll('.option-btn').forEach(b => {
                    b.style.pointerEvents = 'none';
                    b.classList.add('disabled-true');
                });

                if (isCorrect) {
                    score++;
                }
                scoreSpan.innerText = `‚≠ê ${score}`;

                let feedbackHtml = '';
                if (isCorrect) {
                    feedbackHtml = `<div class="correct-feedback">‚úì Ê≠£Á¢∫ÔºÅ</div>`;
                } else {
                    const chosenWord = masterList.find(w => w.en === chosenEn) || { zh: '?' };
                    feedbackHtml = `<div class="wrong-feedback">‚úó Á≠îÈåØ‰∫Ü</div>`;
                    feedbackHtml += `<div class="chinese-meaning"><span>üî§ ${chosenEn}</span>  ‚óè  ${chosenWord.zh}</div>`;
                    feedbackHtml += `<div class="chinese-meaning" style="background:#d9e9ff;">‚úÖ Ê≠£Á¢∫Á≠îÊ°àÔºö${correctEn}  ‚óè  ${q.correct.zh}</div>`;
                }
                feedbackDiv.innerHTML = feedbackHtml;
                feedbackDiv.style.display = 'block';
                nextBtn.disabled = false;
            });
        });
        currentQSpan.innerText = currentIndex + 1;
    }

    function nextQuestion() {
        if (currentIndex < questions.length - 1) {
            currentIndex++;
            renderQuestion();
        } else {
            sentenceDiv.innerHTML = `üéâ ÊÅ≠ÂñúÔºÅ ‰Ω†Â∑≤ÂÆåÊàêÂÖ®ÈÉ® ${questions.length} È°åÔºÅ Á∏ΩÂàÜ ${score}/${questions.length}`;
            optionsDiv.innerHTML = '';
            feedbackDiv.style.display = 'none';
            nextBtn.disabled = true;
            posSpan.innerText = 'ÂÆåÁæéÔºÅ';
        }
    }

    function resetGame() {
        currentIndex = 0;
        score = 0;
        answered = false;
        scoreSpan.innerText = '‚≠ê 0';
        // ÈáçÊñ∞Êâì‰∫ÇÈ°åÁõÆÈ†ÜÂ∫è
        questions = shuffleArray(questions);
        renderQuestion();
        playMusic(); // Play music when reset button is clicked
    }

    nextBtn.addEventListener('click', nextQuestion);
    resetBtn.addEventListener('click', resetGame);

    // ÂïüÂãï
    renderQuestion();
})();
</script>
</body>
</html>