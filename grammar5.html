<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Compound Nouns Game</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #6a11cb 0%, #2575fc 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }
        
        .game-container {
            width: 100%;
            max-width: 500px;
            background-color: white;
            border-radius: 20px;
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.2);
            overflow: hidden;
        }
        
        .header {
            background-color: #5a0bb3;
            color: white;
            padding: 25px;
            text-align: center;
        }
        
        h1 {
            font-size: 1.8rem;
            margin-bottom: 8px;
        }
        
        .subtitle {
            font-size: 1rem;
            opacity: 0.9;
        }
        
        .content-area {
            padding: 25px;
        }
        
        /* Screens */
        .screen {
            display: none;
        }
        
        .screen.active {
            display: block;
        }
        
        /* Start Screen */
        .instructions {
            line-height: 1.6;
            margin-bottom: 30px;
            color: #333;
        }
        
        .instructions h2 {
            color: #5a0bb3;
            margin-bottom: 15px;
            font-size: 1.5rem;
        }
        
        .rules {
            background-color: #f5f0ff;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
            border-left: 5px solid #8a2be2;
        }
        
        .rule-item {
            margin-bottom: 15px;
            display: flex;
            align-items: flex-start;
        }
        
        .rule-icon {
            min-width: 30px;
            color: #5a0bb3;
            font-size: 1.2rem;
            margin-right: 10px;
        }
        
        .rule-text {
            flex: 1;
        }
        
        .examples {
            background-color: #eef7ff;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
            border-left: 5px solid #2575fc;
        }
        
        .example-item {
            margin-bottom: 10px;
            display: flex;
        }
        
        .example-type {
            font-weight: bold;
            min-width: 120px;
            color: #2575fc;
        }
        
        /* Game Screen */
        .noun-display {
            background-color: #f8f7ff;
            border-radius: 15px;
            padding: 30px;
            text-align: center;
            margin-bottom: 25px;
            min-height: 180px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            border: 3px solid #e6e1ff;
            position: relative;
        }
        
        .noun-text {
            font-size: 2.4rem;
            font-weight: bold;
            color: #5a0bb3;
            margin-bottom: 10px;
            line-height: 1.3;
        }
        
        .task-text {
            font-size: 1.2rem;
            color: #666;
            margin-bottom: 15px;
        }
        
        .input-container {
            width: 100%;
            max-width: 300px;
            margin-top: 15px;
        }
        
        .compound-input {
            width: 100%;
            padding: 15px;
            border: 2px solid #ddd;
            border-radius: 10px;
            font-size: 1.3rem;
            text-align: center;
            color: #333;
            transition: all 0.3s;
        }
        
        .compound-input:focus {
            outline: none;
            border-color: #5a0bb3;
            box-shadow: 0 0 0 3px rgba(90, 11, 179, 0.1);
        }
        
        .options {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-bottom: 25px;
        }
        
        .option-btn {
            padding: 20px 15px;
            border: none;
            border-radius: 12px;
            font-size: 1.2rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            color: white;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            box-shadow: 0 5px 10px rgba(0, 0, 0, 0.1);
        }
        
        .option-btn:hover:not(:disabled) {
            transform: translateY(-3px);
            box-shadow: 0 8px 15px rgba(0, 0, 0, 0.2);
        }
        
        .option-btn:active:not(:disabled) {
            transform: translateY(1px);
        }
        
        .option-btn:disabled {
            opacity: 0.7;
            cursor: not-allowed;
        }
        
        .identify-btn {
            background: linear-gradient(to right, #2575fc, #6a11cb);
        }
        
        .create-btn {
            background: linear-gradient(to right, #ff8a00, #da1b60);
        }
        
        .option-label {
            font-size: 0.9rem;
            opacity: 0.9;
            margin-top: 5px;
        }
        
        /* Word Parts Display */
        .word-parts {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 10px;
            margin: 15px 0;
            font-size: 1.8rem;
            color: #5a0bb3;
            font-weight: bold;
        }
        
        .word-part {
            padding: 10px 15px;
            background-color: #e6e1ff;
            border-radius: 8px;
        }
        
        .plus-sign {
            font-size: 1.5rem;
            color: #666;
        }
        
        /* Feedback Area */
        .feedback {
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
            display: none;
            animation: fadeIn 0.5s;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        .correct {
            background-color: #e8f5e9;
            border: 2px solid #4caf50;
        }
        
        .incorrect {
            background-color: #ffebee;
            border: 2px solid #f44336;
        }
        
        .feedback-header {
            display: flex;
            align-items: center;
            margin-bottom: 10px;
            font-weight: bold;
            font-size: 1.2rem;
        }
        
        .feedback-icon {
            margin-right: 10px;
            font-size: 1.5rem;
        }
        
        .correct .feedback-icon {
            color: #2e7d32;
        }
        
        .incorrect .feedback-icon {
            color: #c62828;
        }
        
        .explanation {
            line-height: 1.6;
            color: #333;
            padding-left: 10px;
            border-left: 3px solid #8a2be2;
        }
        
        .explanation strong {
            color: #5a0bb3;
        }
        
        /* Next Button */
        .next-btn {
            width: 100%;
            padding: 18px;
            background: linear-gradient(to right, #5a0bb3, #2575fc);
            color: white;
            border: none;
            border-radius: 12px;
            font-size: 1.2rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            display: none;
            box-shadow: 0 5px 10px rgba(0, 0, 0, 0.1);
        }
        
        .next-btn:hover {
            background: linear-gradient(to right, #4a0996, #1c64e8);
        }
        
        /* Results Screen */
        .results {
            text-align: center;
        }
        
        .score-display {
            width: 150px;
            height: 150px;
            border-radius: 50%;
            background: linear-gradient(135deg, #5a0bb3, #2575fc);
            color: white;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            margin: 20px auto 30px;
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
        }
        
        .score-percent {
            font-size: 2.8rem;
            font-weight: bold;
            line-height: 1;
        }
        
        .score-label {
            font-size: 1.1rem;
            margin-top: 5px;
        }
        
        .results-message {
            margin-bottom: 30px;
            line-height: 1.6;
            color: #333;
            font-size: 1.1rem;
        }
        
        .stats {
            display: flex;
            justify-content: space-around;
            margin-bottom: 30px;
            padding: 20px 0;
            border-top: 1px solid #eee;
            border-bottom: 1px solid #eee;
        }
        
        .stat {
            text-align: center;
        }
        
        .stat-value {
            font-size: 2rem;
            font-weight: bold;
            color: #5a0bb3;
        }
        
        .stat-label {
            font-size: 0.9rem;
            color: #666;
            margin-top: 5px;
        }
        
        .correct-stat .stat-value {
            color: #2e7d32;
        }
        
        .incorrect-stat .stat-value {
            color: #c62828;
        }
        
        /* Action Buttons */
        .action-btn {
            width: 100%;
            padding: 18px;
            margin-bottom: 15px;
            border: none;
            border-radius: 12px;
            font-size: 1.1rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 5px 10px rgba(0, 0, 0, 0.1);
        }
        
        .play-again-btn {
            background: linear-gradient(to right, #2575fc, #6a11cb);
            color: white;
        }
        
        .play-again-btn:hover {
            background: linear-gradient(to right, #1c64e8, #5a0bb3);
        }
        
        .menu-btn {
            background: linear-gradient(to right, #ff8a00, #da1b60);
            color: white;
        }
        
        .menu-btn:hover {
            background: linear-gradient(to right, #e57c00, #c2185b);
        }
        
        /* Infinite Mode Toggle */
        .infinite-toggle {
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 25px 0;
            padding: 15px;
            background-color: #f5f0ff;
            border-radius: 10px;
            color: #333;
            font-weight: bold;
        }
        
        .toggle-switch {
            position: relative;
            display: inline-block;
            width: 60px;
            height: 30px;
            margin-left: 15px;
        }
        
        .toggle-switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }
        
        .toggle-slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #ccc;
            border-radius: 34px;
            transition: .4s;
        }
        
        .toggle-slider:before {
            position: absolute;
            content: "";
            height: 22px;
            width: 22px;
            left: 4px;
            bottom: 4px;
            background-color: white;
            border-radius: 50%;
            transition: .4s;
        }
        
        input:checked + .toggle-slider {
            background: linear-gradient(to right, #5a0bb3, #2575fc);
        }
        
        input:checked + .toggle-slider:before {
            transform: translateX(30px);
        }
        
        /* Game Info (for infinite mode) */
        .game-info {
            display: flex;
            justify-content: space-between;
            margin-bottom: 20px;
            font-weight: bold;
            color: #5a0bb3;
        }
        
        .score-display-small {
            font-size: 1.2rem;
        }
        
        .infinite-indicator {
            background-color: #e6e1ff;
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 0.9rem;
            display: none;
        }
        
        /* Question Types */
        .question-type {
            font-size: 1rem;
            color: #666;
            margin-bottom: 10px;
            font-style: italic;
        }
        
        /* Game Mode Toggle */
        .game-mode {
            display: flex;
            background-color: #f0f5ff;
            border-radius: 10px;
            overflow: hidden;
            margin: 20px 0;
        }
        
        .mode-btn {
            flex: 1;
            padding: 15px;
            text-align: center;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
            border: none;
            background-color: transparent;
            color: #666;
        }
        
        .mode-btn.active {
            background-color: #5a0bb3;
            color: white;
        }
        
        /* Word Parts Container */
        .word-parts-container {
            display: none;
            margin: 20px 0;
        }
        
        .word-part-option {
            display: inline-block;
            padding: 12px 20px;
            margin: 5px;
            background-color: #e6e1ff;
            border-radius: 8px;
            font-size: 1.2rem;
            cursor: pointer;
            transition: all 0.3s;
            border: 2px solid transparent;
        }
        
        .word-part-option:hover {
            background-color: #d4ccff;
            border-color: #5a0bb3;
        }
        
        .word-part-option.selected {
            background-color: #5a0bb3;
            color: white;
        }
        
        /* Compound Noun Display */
        .compound-display {
            font-size: 2rem;
            font-weight: bold;
            color: #5a0bb3;
            margin: 15px 0;
            min-height: 60px;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-wrap: wrap;
            gap: 5px;
        }
        
        /* Responsive Design */
        @media (max-width: 500px) {
            .game-container {
                border-radius: 15px;
            }
            
            .header {
                padding: 20px;
            }
            
            h1 {
                font-size: 1.6rem;
            }
            
            .content-area {
                padding: 20px;
            }
            
            .noun-text {
                font-size: 2rem;
            }
            
            .option-btn {
                padding: 18px 10px;
                font-size: 1.1rem;
            }
            
            .score-display {
                width: 120px;
                height: 120px;
            }
            
            .score-percent {
                font-size: 2.2rem;
            }
            
            .options {
                grid-template-columns: 1fr;
                gap: 12px;
            }
            
            .compound-input {
                font-size: 1.1rem;
                padding: 12px;
            }
            
            .word-parts {
                font-size: 1.5rem;
            }
        }
    </style>
</head>
<body>
    <div class="game-container">
        <div class="header">
            <h1>Compound Nouns Game</h1>
            <div class="subtitle">Create and identify compound nouns - 20 questions with infinite loop</div>
        </div>
        
        <div class="content-area">
            <!-- Start Screen -->
            <div id="start-screen" class="screen active">
                <div class="instructions">
                    <h2>How to Play</h2>
                    <p>Identify or create compound nouns by combining two or more words to form a new word with its own meaning.</p>
                    
                    <div class="rules">
                        <div class="rule-item">
                            <div class="rule-icon"><i class="fas fa-puzzle-piece"></i></div>
                            <div class="rule-text"><strong>Compound nouns</strong> are formed by combining two or more words (e.g., sun + flower = sunflower).</div>
                        </div>
                        <div class="rule-item">
                            <div class="rule-icon"><i class="fas fa-lightbulb"></i></div>
                            <div class="rule-text">They can be written as one word, hyphenated, or as separate words.</div>
                        </div>
                        <div class="rule-item">
                            <div class="rule-icon"><i class="fas fa-infinity"></i></div>
                            <div class="rule-text">In infinite mode, the game continues with new questions forever!</div>
                        </div>
                    </div>
                    
                    <div class="examples">
                        <h3>Examples of Compound Nouns:</h3>
                        <div class="example-item">
                            <div class="example-type">One word:</div>
                            <div>toothbrush, bedroom, football</div>
                        </div>
                        <div class="example-item">
                            <div class="example-type">Hyphenated:</div>
                            <div>mother-in-law, check-in, well-being</div>
                        </div>
                        <div class="example-item">
                            <div class="example-type">Separate words:</div>
                            <div>bus stop, swimming pool, ice cream</div>
                        </div>
                    </div>
                    
                    <p>You'll get instant feedback with explanations after each answer. Try to complete all 20 questions!</p>
                </div>
                
                <div class="game-mode">
                    <button id="mode-identify" class="mode-btn active">Identify Mode</button>
                    <button id="mode-create" class="mode-btn">Create Mode</button>
                </div>
                
                <div class="infinite-toggle">
                    <span>Infinite Mode:</span>
                    <label class="toggle-switch">
                        <input type="checkbox" id="infinite-mode">
                        <span class="toggle-slider"></span>
                    </label>
                </div>
                
                <button id="start-btn" class="next-btn" style="display: block;">Start Game</button>
            </div>
            
            <!-- Game Screen -->
            <div id="game-screen" class="screen">
                <div class="game-info">
                    <div class="score-display-small">Score: <span id="current-score">0</span></div>
                    <div id="infinite-indicator" class="infinite-indicator">Infinite Mode</div>
                </div>
                
                <div class="noun-display">
                    <div class="question-type" id="question-type">Identify the correct compound noun</div>
                    <div class="noun-text" id="noun-text">bedroom</div>
                    <div class="task-text" id="task-text">Is this a compound noun?</div>
                    
                    <!-- For create mode -->
                    <div id="word-parts-display" class="word-parts" style="display: none;">
                        <div class="word-part" id="word-part1">bed</div>
                        <div class="plus-sign">+</div>
                        <div class="word-part" id="word-part2">room</div>
                    </div>
                    
                    <div id="input-container" class="input-container" style="display: none;">
                        <input type="text" id="compound-input" class="compound-input" placeholder="Type compound noun..." autocomplete="off">
                    </div>
                    
                    <!-- For word selection mode -->
                    <div id="word-parts-container" class="word-parts-container"></div>
                    
                    <!-- For displaying created compound -->
                    <div id="compound-display" class="compound-display"></div>
                </div>
                
                <div id="options-container" class="options">
                    <button class="option-btn identify-btn" id="yes-btn">
                        <i class="fas fa-check"></i> Yes
                        <span class="option-label">It's a compound noun</span>
                    </button>
                    <button class="option-btn create-btn" id="no-btn">
                        <i class="fas fa-times"></i> No
                        <span class="option-label">Not a compound noun</span>
                    </button>
                </div>
                
                <div id="feedback" class="feedback">
                    <div class="feedback-header">
                        <div class="feedback-icon" id="feedback-icon"></div>
                        <div id="feedback-text"></div>
                    </div>
                    <div id="explanation" class="explanation"></div>
                </div>
                
                <button id="next-btn" class="next-btn">Next Question</button>
            </div>
            
            <!-- Results Screen -->
            <div id="results-screen" class="screen">
                <h2>Game Complete!</h2>
                
                <div class="score-display">
                    <div class="score-percent" id="score-percent">85%</div>
                    <div class="score-label">Your Score</div>
                </div>
                
                <div class="results-message" id="results-message">
                    Great job! You have a good understanding of compound nouns.
                </div>
                
                <div class="stats">
                    <div class="stat correct-stat">
                        <div class="stat-value" id="correct-count">17</div>
                        <div class="stat-label">Correct</div>
                    </div>
                    <div class="stat">
                        <div class="stat-value" id="total-questions">20</div>
                        <div class="stat-label">Questions</div>
                    </div>
                    <div class="stat incorrect-stat">
                        <div class="stat-value" id="incorrect-count">3</div>
                        <div class="stat-label">Incorrect</div>
                    </div>
                </div>
                
                <button id="play-again-btn" class="action-btn play-again-btn">Play Again</button>
                <button id="menu-btn" class="action-btn menu-btn">Back to Menu</button>
            </div>
        </div>
    </div>

    <script>
        // Game data - 20 compound noun questions
        const questions = [
            { 
                word: "bedroom", 
                isCompound: true,
                wordParts: ["bed", "room"],
                explanation: "<strong>Bedroom</strong> is a compound noun formed from 'bed' + 'room'. It means a room for sleeping."
            },
            { 
                word: "bookcase", 
                isCompound: true,
                wordParts: ["book", "case"],
                explanation: "<strong>Bookcase</strong> is a compound noun formed from 'book' + 'case'. It means a piece of furniture for storing books."
            },
            { 
                word: "sunflower", 
                isCompound: true,
                wordParts: ["sun", "flower"],
                explanation: "<strong>Sunflower</strong> is a compound noun formed from 'sun' + 'flower'. It's a flower that turns toward the sun."
            },
            { 
                word: "butterfly", 
                isCompound: true,
                wordParts: ["butter", "fly"],
                explanation: "<strong>Butterfly</strong> is a compound noun formed from 'butter' + 'fly'. It's a type of insect with colorful wings."
            },
            { 
                word: "rainbow", 
                isCompound: true,
                wordParts: ["rain", "bow"],
                explanation: "<strong>Rainbow</strong> is a compound noun formed from 'rain' + 'bow'. It's a colorful arc in the sky after rain."
            },
            { 
                word: "football", 
                isCompound: true,
                wordParts: ["foot", "ball"],
                explanation: "<strong>Football</strong> is a compound noun formed from 'foot' + 'ball'. It's a sport played with a ball kicked by foot."
            },
            { 
                word: "toothbrush", 
                isCompound: true,
                wordParts: ["tooth", "brush"],
                explanation: "<strong>Toothbrush</strong> is a compound noun formed from 'tooth' + 'brush'. It's a brush for cleaning teeth."
            },
            { 
                word: "mother-in-law", 
                isCompound: true,
                wordParts: ["mother", "in", "law"],
                explanation: "<strong>Mother-in-law</strong> is a hyphenated compound noun. It means the mother of one's spouse."
            },
            { 
                word: "breakfast", 
                isCompound: true,
                wordParts: ["break", "fast"],
                explanation: "<strong>Breakfast</strong> is a compound noun formed from 'break' + 'fast'. It means the first meal of the day, breaking the overnight fast."
            },
            { 
                word: "airport", 
                isCompound: true,
                wordParts: ["air", "port"],
                explanation: "<strong>Airport</strong> is a compound noun formed from 'air' + 'port'. It's a place where aircraft take off and land."
            },
            { 
                word: "notebook", 
                isCompound: true,
                wordParts: ["note", "book"],
                explanation: "<strong>Notebook</strong> is a compound noun formed from 'note' + 'book'. It's a book for writing notes."
            },
            { 
                word: "waterfall", 
                isCompound: true,
                wordParts: ["water", "fall"],
                explanation: "<strong>Waterfall</strong> is a compound noun formed from 'water' + 'fall'. It's a place where water flows over a vertical drop."
            },
            { 
                word: "classroom", 
                isCompound: true,
                wordParts: ["class", "room"],
                explanation: "<strong>Classroom</strong> is a compound noun formed from 'class' + 'room'. It's a room where classes are held."
            },
            { 
                word: "blueberry", 
                isCompound: true,
                wordParts: ["blue", "berry"],
                explanation: "<strong>Blueberry</strong> is a compound noun formed from 'blue' + 'berry'. It's a small blue fruit."
            },
            { 
                word: "firefighter", 
                isCompound: true,
                wordParts: ["fire", "fighter"],
                explanation: "<strong>Firefighter</strong> is a compound noun formed from 'fire' + 'fighter'. It's a person who extinguishes fires."
            },
            { 
                word: "television", 
                isCompound: false,
                explanation: "<strong>Television</strong> is not a compound noun. It comes from Greek 'tele' (far) and Latin 'visio' (sight), but it's not formed by combining English words."
            },
            { 
                word: "computer", 
                isCompound: false,
                explanation: "<strong>Computer</strong> is not a compound noun. It comes from Latin 'computare' meaning to calculate."
            },
            { 
                word: "window", 
                isCompound: false,
                explanation: "<strong>Window</strong> is not a compound noun. It comes from Old Norse 'vindauga' (wind eye), but in modern English it's a single word."
            },
            { 
                word: "ice cream", 
                isCompound: true,
                wordParts: ["ice", "cream"],
                explanation: "<strong>Ice cream</strong> is a compound noun written as separate words. It's a frozen dessert made from cream and flavorings."
            },
            { 
                word: "swimming pool", 
                isCompound: true,
                wordParts: ["swimming", "pool"],
                explanation: "<strong>Swimming pool</strong> is a compound noun written as separate words. It's an artificial pool for swimming."
            }
        ];

        // Additional data for create mode
        const createModeQuestions = [
            {
                parts: ["sun", "flower"],
                answer: "sunflower",
                explanation: "<strong>Sun</strong> + <strong>flower</strong> = <strong>sunflower</strong>. A flower that turns toward the sun."
            },
            {
                parts: ["tooth", "brush"],
                answer: "toothbrush",
                explanation: "<strong>Tooth</strong> + <strong>brush</strong> = <strong>toothbrush</strong>. A brush for cleaning teeth."
            },
            {
                parts: ["rain", "bow"],
                answer: "rainbow",
                explanation: "<strong>Rain</strong> + <strong>bow</strong> = <strong>rainbow</strong>. A colorful arc in the sky after rain."
            },
            {
                parts: ["foot", "ball"],
                answer: "football",
                explanation: "<strong>Foot</strong> + <strong>ball</strong> = <strong>football</strong>. A sport played with a ball kicked by foot."
            },
            {
                parts: ["note", "book"],
                answer: "notebook",
                explanation: "<strong>Note</strong> + <strong>book</strong> = <strong>notebook</strong>. A book for writing notes."
            },
            {
                parts: ["water", "fall"],
                answer: "waterfall",
                explanation: "<strong>Water</strong> + <strong>fall</strong> = <strong>waterfall</strong>. Water flowing over a vertical drop."
            },
            {
                parts: ["bed", "room"],
                answer: "bedroom",
                explanation: "<strong>Bed</strong> + <strong>room</strong> = <strong>bedroom</strong>. A room for sleeping."
            },
            {
                parts: ["blue", "berry"],
                answer: "blueberry",
                explanation: "<strong>Blue</strong> + <strong>berry</strong> = <strong>blueberry</strong>. A small blue fruit."
            },
            {
                parts: ["fire", "fighter"],
                answer: "firefighter",
                explanation: "<strong>Fire</strong> + <strong>fighter</strong> = <strong>firefighter</strong>. A person who extinguishes fires."
            },
            {
                parts: ["air", "port"],
                answer: "airport",
                explanation: "<strong>Air</strong> + <strong>port</strong> = <strong>airport</strong>. A place where aircraft take off and land."
            }
        ];

        // Game state variables
        let currentQuestionIndex = 0;
        let score = 0;
        let totalQuestions = questions.length;
        let infiniteMode = false;
        let gameMode = "identify"; // "identify" or "create"
        let questionsAnswered = 0;
        let correctCount = 0;
        let incorrectCount = 0;
        let createModeDataIndex = 0;
        
        // DOM elements
        const startScreen = document.getElementById('start-screen');
        const gameScreen = document.getElementById('game-screen');
        const resultsScreen = document.getElementById('results-screen');
        const startBtn = document.getElementById('start-btn');
        const nextBtn = document.getElementById('next-btn');
        const playAgainBtn = document.getElementById('play-again-btn');
        const menuBtn = document.getElementById('menu-btn');
        const yesBtn = document.getElementById('yes-btn');
        const noBtn = document.getElementById('no-btn');
        const nounText = document.getElementById('noun-text');
        const taskText = document.getElementById('task-text');
        const questionType = document.getElementById('question-type');
        const inputContainer = document.getElementById('input-container');
        const compoundInput = document.getElementById('compound-input');
        const optionsContainer = document.getElementById('options-container');
        const feedback = document.getElementById('feedback');
        const feedbackIcon = document.getElementById('feedback-icon');
        const feedbackText = document.getElementById('feedback-text');
        const explanation = document.getElementById('explanation');
        const currentScoreSpan = document.getElementById('current-score');
        const scorePercent = document.getElementById('score-percent');
        const resultsMessage = document.getElementById('results-message');
        const correctCountSpan = document.getElementById('correct-count');
        const incorrectCountSpan = document.getElementById('incorrect-count');
        const totalQuestionsSpan = document.getElementById('total-questions');
        const infiniteModeToggle = document.getElementById('infinite-mode');
        const infiniteIndicator = document.getElementById('infinite-indicator');
        const modeIdentifyBtn = document.getElementById('mode-identify');
        const modeCreateBtn = document.getElementById('mode-create');
        const wordPartsDisplay = document.getElementById('word-parts-display');
        const wordPart1 = document.getElementById('word-part1');
        const wordPart2 = document.getElementById('word-part2');
        const wordPartsContainer = document.getElementById('word-parts-container');
        const compoundDisplay = document.getElementById('compound-display');
        
        // Initialize game
        function initGame() {
            currentQuestionIndex = 0;
            createModeDataIndex = 0;
            score = 0;
            questionsAnswered = 0;
            correctCount = 0;
            incorrectCount = 0;
            updateScore();
            
            // Show/hide infinite indicator
            if (infiniteMode) {
                infiniteIndicator.style.display = 'block';
            } else {
                infiniteIndicator.style.display = 'none';
            }
            
            loadQuestion();
        }
        
        // Load current question
        function loadQuestion() {
            // Reset display elements
            wordPartsDisplay.style.display = 'none';
            inputContainer.style.display = 'none';
            optionsContainer.style.display = 'grid';
            wordPartsContainer.style.display = 'none';
            wordPartsContainer.innerHTML = '';
            compoundDisplay.innerHTML = '';
            compoundInput.value = '';
            
            if (gameMode === "identify") {
                // Identify mode: show a word and ask if it's a compound noun
                const currentQuestion = questions[currentQuestionIndex];
                nounText.textContent = currentQuestion.word;
                questionType.textContent = "Identify if this is a compound noun";
                taskText.textContent = `Is "${currentQuestion.word}" a compound noun?`;
                
                // Update button labels for identify mode
                yesBtn.innerHTML = '<i class="fas fa-check"></i> Yes<span class="option-label">It\'s a compound noun</span>';
                noBtn.innerHTML = '<i class="fas fa-times"></i> No<span class="option-label">Not a compound noun</span>';
            } else {
                // Create mode: show word parts and ask to form compound noun
                const currentQuestion = createModeQuestions[createModeDataIndex];
                
                // Hide the noun text and show word parts
                nounText.style.display = 'none';
                wordPartsDisplay.style.display = 'flex';
                wordPart1.textContent = currentQuestion.parts[0];
                wordPart2.textContent = currentQuestion.parts[1];
                
                questionType.textContent = "Create a compound noun";
                taskText.textContent = `Combine these words to form a compound noun:`;
                
                // Update button labels for create mode
                yesBtn.innerHTML = '<i class="fas fa-check"></i> Submit<span class="option-label">Check your answer</span>';
                noBtn.innerHTML = '<i class="fas fa-redo"></i> Skip<span class="option-label">Skip this question</span>';
                
                // Show input for user to type their answer
                optionsContainer.style.display = 'none';
                inputContainer.style.display = 'block';
                compoundInput.focus();
            }
            
            feedback.style.display = 'none';
            nextBtn.style.display = 'none';
            
            // Enable buttons
            yesBtn.disabled = false;
            noBtn.disabled = false;
            yesBtn.style.opacity = '1';
            noBtn.style.opacity = '1';
        }
        
        // Check answer for identify mode
        function checkIdentifyAnswer(userAnswer) {
            const currentQuestion = questions[currentQuestionIndex];
            const isCorrect = (userAnswer === "yes" && currentQuestion.isCompound) || 
                             (userAnswer === "no" && !currentQuestion.isCompound);
            
            // Disable buttons after answer is selected
            yesBtn.disabled = true;
            noBtn.disabled = true;
            yesBtn.style.opacity = '0.7';
            noBtn.style.opacity = '0.7';
            
            // Update score and stats
            if (isCorrect) {
                score += 5; // 5 points per correct answer
                correctCount++;
                feedback.className = 'feedback correct';
                feedbackIcon.innerHTML = '<i class="fas fa-check-circle"></i>';
                feedbackText.textContent = 'Correct!';
            } else {
                incorrectCount++;
                feedback.className = 'feedback incorrect';
                feedbackIcon.innerHTML = '<i class="fas fa-times-circle"></i>';
                feedbackText.textContent = 'Incorrect!';
            }
            
            // Show explanation
            explanation.innerHTML = currentQuestion.explanation;
            feedback.style.display = 'block';
            
            // Show next button
            nextBtn.style.display = 'block';
            
            // Update UI
            updateScore();
            questionsAnswered++;
        }
        
        // Check answer for create mode
        function checkCreateAnswer() {
            const userAnswer = compoundInput.value.trim().toLowerCase();
            const currentQuestion = createModeQuestions[createModeDataIndex];
            const correctAnswer = currentQuestion.answer.toLowerCase();
            const isCorrect = userAnswer === correctAnswer;
            
            // Disable input after answer is submitted
            compoundInput.disabled = true;
            
            // Update score and stats
            if (isCorrect) {
                score += 5; // 5 points per correct answer
                correctCount++;
                feedback.className = 'feedback correct';
                feedbackIcon.innerHTML = '<i class="fas fa-check-circle"></i>';
                feedbackText.textContent = 'Correct!';
            } else {
                incorrectCount++;
                feedback.className = 'feedback incorrect';
                feedbackIcon.innerHTML = '<i class="fas fa-times-circle"></i>';
                feedbackText.textContent = `Incorrect! The correct compound noun is "${currentQuestion.answer}"`;
            }
            
            // Show explanation
            explanation.innerHTML = currentQuestion.explanation;
            feedback.style.display = 'block';
            
            // Show the correct answer
            compoundDisplay.innerHTML = `${currentQuestion.parts[0]} + ${currentQuestion.parts[1]} = <strong>${currentQuestion.answer}</strong>`;
            
            // Show next button
            nextBtn.style.display = 'block';
            
            // Update UI
            updateScore();
            questionsAnswered++;
        }
        
        // Skip question in create mode
        function skipCreateQuestion() {
            const currentQuestion = createModeQuestions[createModeDataIndex];
            
            // Show correct answer
            compoundDisplay.innerHTML = `${currentQuestion.parts[0]} + ${currentQuestion.parts[1]} = <strong>${currentQuestion.answer}</strong>`;
            
            feedback.className = 'feedback incorrect';
            feedbackIcon.innerHTML = '<i class="fas fa-info-circle"></i>';
            feedbackText.textContent = 'Question Skipped';
            explanation.innerHTML = currentQuestion.explanation;
            feedback.style.display = 'block';
            
            // Show next button
            nextBtn.style.display = 'block';
            
            // Update stats (count as incorrect for scoring purposes)
            incorrectCount++;
            questionsAnswered++;
        }
        
        // Update score display
        function updateScore() {
            currentScoreSpan.textContent = score;
        }
        
        // Move to next question
        function nextQuestion() {
            // Re-enable input for next question
            compoundInput.disabled = false;
            nounText.style.display = 'block'; // Make sure noun text is visible again
            
            if (gameMode === "identify") {
                currentQuestionIndex++;
                
                if (infiniteMode && currentQuestionIndex >= totalQuestions) {
                    // In infinite mode, reset to first question (shuffled)
                    shuffleQuestions();
                    currentQuestionIndex = 0;
                }
                
                if (currentQuestionIndex < totalQuestions) {
                    loadQuestion();
                } else {
                    showResults();
                }
            } else {
                // Create mode
                createModeDataIndex++;
                
                if (infiniteMode && createModeDataIndex >= createModeQuestions.length) {
                    // In infinite mode, reset to first create question (shuffled)
                    shuffleCreateQuestions();
                    createModeDataIndex = 0;
                }
                
                if (createModeDataIndex < createModeQuestions.length) {
                    loadQuestion();
                } else {
                    showResults();
                }
            }
        }
        
        // Show results screen
        function showResults() {
            gameScreen.classList.remove('active');
            resultsScreen.classList.add('active');
            
            const total = gameMode === "identify" ? questions.length : createModeQuestions.length;
            const percentage = Math.round((correctCount / total) * 100);
            scorePercent.textContent = `${percentage}%`;
            correctCountSpan.textContent = correctCount;
            incorrectCountSpan.textContent = incorrectCount;
            totalQuestionsSpan.textContent = total;
            
            // Set results message based on score
            let message = "";
            if (percentage >= 90) {
                message = "Outstanding! You're a compound noun expert! You've mastered identifying and creating compound nouns.";
            } else if (percentage >= 75) {
                message = "Great job! You have a solid understanding of compound nouns. Keep practicing to master all the different types!";
            } else if (percentage >= 60) {
                message = "Good work! You understand the basics of compound nouns. Review the explanations to improve your knowledge.";
            } else {
                message = "Keep practicing! Pay attention to the explanations to better understand how compound nouns are formed.";
            }
            
            resultsMessage.textContent = message;
        }
        
        // Return to start menu
        function backToMenu() {
            resultsScreen.classList.remove('active');
            startScreen.classList.add('active');
        }
        
        // Shuffle questions for variety in infinite mode
        function shuffleQuestions() {
            for (let i = questions.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [questions[i], questions[j]] = [questions[j], questions[i]];
            }
        }
        
        // Shuffle create mode questions
        function shuffleCreateQuestions() {
            for (let i = createModeQuestions.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [createModeQuestions[i], createModeQuestions[j]] = [createModeQuestions[j], createModeQuestions[i]];
            }
        }
        
        // Event listeners
        startBtn.addEventListener('click', () => {
            startScreen.classList.remove('active');
            gameScreen.classList.add('active');
            initGame();
        });
        
        yesBtn.addEventListener('click', () => {
            if (gameMode === "identify") {
                checkIdentifyAnswer("yes");
            } else {
                checkCreateAnswer();
            }
        });
        
        noBtn.addEventListener('click', () => {
            if (gameMode === "identify") {
                checkIdentifyAnswer("no");
            } else {
                skipCreateQuestion();
            }
        });
        
        // Handle Enter key in input field
        compoundInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                checkCreateAnswer();
            }
        });
        
        nextBtn.addEventListener('click', nextQuestion);
        
        playAgainBtn.addEventListener('click', () => {
            resultsScreen.classList.remove('active');
            gameScreen.classList.add('active');
            initGame();
        });
        
        menuBtn.addEventListener('click', backToMenu);
        
        infiniteModeToggle.addEventListener('change', () => {
            infiniteMode = infiniteModeToggle.checked;
            
            // If infinite mode is enabled, shuffle questions for variety
            if (infiniteMode) {
                shuffleQuestions();
                shuffleCreateQuestions();
            }
        });
        
        // Game mode switching
        modeIdentifyBtn.addEventListener('click', () => {
            gameMode = "identify";
            modeIdentifyBtn.classList.add('active');
            modeCreateBtn.classList.remove('active');
            totalQuestions = questions.length;
        });
        
        modeCreateBtn.addEventListener('click', () => {
            gameMode = "create";
            modeCreateBtn.classList.add('active');
            modeIdentifyBtn.classList.remove('active');
            totalQuestions = createModeQuestions.length;
        });
        
        // Initialize with first question loaded
        initGame();
    </script>
</body>
</html>