<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=yes">
  <title>‚áÜ to / from / into ‚Äì 20 questions</title>
  <style>
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      font-family: system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', sans-serif;
      background: linear-gradient(145deg, #f7f9fc 0%, #eef2f7 100%);
      min-height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
      margin: 0;
      padding: 16px;
    }

    .card {
      background: rgba(255, 255, 255, 0.85);
      backdrop-filter: blur(12px);
      -webkit-backdrop-filter: blur(12px);
      border-radius: 48px 48px 32px 32px;
      box-shadow: 0 25px 50px -10px rgba(0, 20, 30, 0.25), inset 0 1px 2px rgba(255,255,255,0.6);
      width: 100%;
      max-width: 560px;
      padding: 28px 22px 32px;
      border: 1px solid rgba(255,255,255,0.5);
    }

    h1 {
      font-size: 2rem;
      font-weight: 600;
      letter-spacing: -0.02em;
      display: flex;
      align-items: center;
      gap: 8px;
      flex-wrap: wrap;
      margin-bottom: 6px;
      color: #0b2f44;
    }

    h1 span {
      background: #1b4f6e;
      color: white;
      font-size: 1rem;
      padding: 6px 14px;
      border-radius: 60px;
      font-weight: 500;
      letter-spacing: 0.3px;
      white-space: nowrap;
    }

    .subhead {
      font-size: 1.05rem;
      color: #2c4b62;
      margin-bottom: 24px;
      padding-bottom: 12px;
      border-bottom: 2px dashed #aaccdd;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .infinity-badge {
      background: #c0dbe9;
      padding: 6px 15px;
      border-radius: 40px;
      font-size: 0.9rem;
      font-weight: 600;
      color: #103a4c;
      box-shadow: inset 0 1px 3px rgba(0,0,0,0.05);
      display: flex;
      align-items: center;
      gap: 4px;
    }

    .infinity-badge::before {
      content: "‚àû";
      font-size: 1.4rem;
      line-height: 1;
      margin-right: 4px;
    }

    .question-box {
      background: white;
      border-radius: 32px;
      padding: 26px 18px 20px;
      box-shadow: 0 12px 25px -12px rgba(0,40,60,0.3), inset 0 0 0 1px rgba(255,255,255,0.7);
      margin-bottom: 20px;
    }

    .sentence {
      font-size: 1.8rem;
      font-weight: 500;
      line-height: 1.3;
      word-break: break-word;
      text-align: center;
      color: #032b3d;
      margin-bottom: 28px;
      padding: 0 5px;
    }

    .blank-highlight {
      display: inline-block;
      min-width: 100px;
      background: #f3e8d8;
      border-radius: 40px;
      color: #9d6b2b;
      font-weight: 650;
      padding: 0 6px;
      text-decoration: underline wavy #fcb375 2px;
    }

    .options {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 15px;
      margin: 20px 0 18px;
    }

    .option-btn {
      background: #f0f4fa;
      border: none;
      border-radius: 80px;
      padding: 16px 28px;
      font-size: 1.8rem;
      font-weight: 600;
      color: #163a4b;
      box-shadow: 0 5px 0 #b3c7d4, 0 8px 14px rgba(0,20,30,0.15);
      transition: all 0.07s ease;
      flex: 1 0 auto;
      max-width: 160px;
      min-width: 110px;
      cursor: pointer;
      touch-action: manipulation;
      border: 1px solid rgba(255,255,255,0.7);
      line-height: 1;
    }

    .option-btn:active {
      transform: translateY(5px);
      box-shadow: 0 2px 0 #9bb1c0, 0 8px 14px rgba(0,20,30,0.1);
      background: #e0eaf3;
    }

    .option-btn:focus-visible {
      outline: 3px solid #0077be;
      outline-offset: 2px;
    }

    .feedback {
      background: #d9e6f0;
      border-radius: 28px;
      padding: 18px 20px;
      margin-top: 12px;
      border-left: 8px solid #327a9e;
    }

    .explain-text {
      font-size: 1.2rem;
      font-weight: 500;
      color: #012433;
      margin-bottom: 8px;
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .explain-detail {
      font-size: 1rem;
      color: #0d3f55;
      background: rgba(255,255,240,0.7);
      padding: 12px 16px;
      border-radius: 20px;
      line-height: 1.5;
      border: 1px solid white;
    }

    .direction-icon {
      font-size: 1.8rem;
      margin-right: 5px;
    }

    .next-btn {
      background: #226f8f;
      border: none;
      border-radius: 60px;
      padding: 16px 24px;
      font-size: 1.6rem;
      font-weight: 600;
      color: white;
      width: 100%;
      text-align: center;
      box-shadow: 0 7px 0 #0e3f55, 0 10px 20px rgba(0,20,30,0.2);
      transition: 0.06s linear;
      cursor: pointer;
      touch-action: manipulation;
      margin-top: 12px;
      border: 1px solid #c2e2ff;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 12px;
    }

    .next-btn:active {
      transform: translateY(7px);
      box-shadow: 0 0px 0 #0e3f55, 0 8px 18px rgba(0,20,30,0.15);
    }

    .counter-info {
      background: #eef1f4;
      border-radius: 40px;
      padding: 12px 20px;
      margin-top: 14px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-weight: 500;
      color: #1b4f60;
      border: 1px solid white;
    }

    .restart-loop {
      background: none;
      border: 2px solid #216277;
      border-radius: 50px;
      padding: 8px 20px;
      font-size: 1.2rem;
      font-weight: 600;
      color: #154c61;
      cursor: pointer;
      transition: 0.1s;
      display: flex;
      align-items: center;
      gap: 4px;
    }

    .restart-loop:active {
      background: #b7d9e9;
    }

    /* smaller phones */
    @media (max-width: 400px) {
      .sentence { font-size: 1.6rem; }
      .option-btn { font-size: 1.6rem; padding: 14px 10px; min-width: 90px; }
      .next-btn { font-size: 1.4rem; }
    }
  </style>
</head>
<body>
<div class="card" role="main">
  <h1>
    ‚û°Ô∏è‚¨ÖÔ∏è‚¨ÜÔ∏è direction <span>to / from / into</span>
  </h1>
  <div class="subhead">
    <span>20‚Äëquestion cycle</span>
    <div class="infinity-badge">infinite loop</div>
  </div>

  <!-- dynamic question area -->
  <div class="question-box" id="questionBox">
    <div class="sentence" id="sentenceText">...</div>
    <div class="options" id="optionsContainer">
      <button class="option-btn" data-answer="to">to</button>
      <button class="option-btn" data-answer="from">from</button>
      <button class="option-btn" data-answer="into">into</button>
    </div>

    <div class="feedback" id="feedbackArea">
      <div class="explain-text" id="iconAndResult">üß†</div>
      <div class="explain-detail" id="explanationText">choose an option above</div>
    </div>
  </div>

  <button class="next-btn" id="nextButton">‚ü≥ next question  <span style="font-size:2rem;">‚Ü∫</span></button>

  <div class="counter-info">
    <span id="questionCounter">question 1 / 20</span>
    <button class="restart-loop" id="restartBtn" aria-label="restart infinite loop">‚Üª restart</button>
  </div>
</div>

<script>
  (function() {
    // ----- 20 fixed questions: each contains sentence with ___ , correct answer, and explanation.
    const questions = [
      { sentence: "She walked ___ the library to borrow a book.", correct: "to", explanation: "üëâ 'to' indicates movement towards a destination (library)." },
      { sentence: "He took a pencil ___ his bag.", correct: "from", explanation: "üëâ 'from' shows the origin / starting point (bag)." },
      { sentence: "The cat jumped ___ the box.", correct: "into", explanation: "üëâ 'into' = movement to the inside of something (box)." },
      { sentence: "They drove ___ the city early in the morning.", correct: "to", explanation: "üëâ 'to' destination ‚Äì the city." },
      { sentence: "She borrowed a book ___ the library.", correct: "from", explanation: "üëâ 'from' marks the source (library)." },
      { sentence: "He poured the milk ___ a glass.", correct: "into", explanation: "üëâ 'into' = from outside to inside the glass." },
      { sentence: "We received a package ___ our grandparents.", correct: "from", explanation: "üëâ 'from' indicates origin (grandparents)." },
      { sentence: "The kids ran ___ the playground.", correct: "to", explanation: "üëâ movement toward the playground (destination)." },
      { sentence: "She got ___ the car and drove away.", correct: "into", explanation: "üëâ 'into' = entering the interior of the car." },
      { sentence: "I learned a lot ___ my older sister.", correct: "from", explanation: "üëâ 'from' = source of knowledge (sister)." },
      { sentence: "He threw the ball ___ the basket.", correct: "into", explanation: "üëâ 'into' ‚Äì going inside the basket." },
      { sentence: "We flew ___ Paris last summer.", correct: "to", explanation: "üëâ destination: Paris (to)." },
      { sentence: "The letter came ___ London.", correct: "from", explanation: "üëâ origin of the letter (London)." },
      { sentence: "She stepped ___ the room quietly.", correct: "into", explanation: "üëâ entering the room (inside)." },
      { sentence: "Could you hand this ___ John?", correct: "to", explanation: "üëâ transfer direction toward John." },
      { sentence: "He escaped ___ the burning building.", correct: "from", explanation: "üëâ out of / away from the building." },
      { sentence: "The dog jumped ___ the pool.", correct: "into", explanation: "üëâ movement from outside to inside water." },
      { sentence: "They moved ___ a new apartment.", correct: "to", explanation: "üëâ new apartment as destination." },
      { sentence: "I borrowed this dress ___ my friend.", correct: "from", explanation: "üëâ source = friend." },
      { sentence: "Welcome ___ our website!", correct: "to", explanation: "üëâ fixed expression 'welcome to' (direction toward)." }
    ];

    // ---------- state ----------
    let currentIndex = 0;               // 0 .. 19  (cycles infinite)
    let userAnswered = false;           // disable further clicks after answer
    let selectedAnswer = null;           // for display

    // DOM elements
    const sentenceEl = document.getElementById('sentenceText');
    const optionsContainer = document.getElementById('optionsContainer');
    const feedbackArea = document.getElementById('feedbackArea');
    const iconAndResult = document.getElementById('iconAndResult');
    const explanationText = document.getElementById('explanationText');
    const nextButton = document.getElementById('nextButton');
    const questionCounterSpan = document.getElementById('questionCounter');
    const restartBtn = document.getElementById('restartBtn');

    // helper: update view based on currentIndex
    function renderQuestion() {
      const q = questions[currentIndex];
      // replace the blank with underlined placeholder (for clarity)
      const displaySentence = q.sentence.replace('___', '<span class="blank-highlight"> ___ </span>');
      sentenceEl.innerHTML = displaySentence;

      // reset answer state
      userAnswered = false;
      selectedAnswer = null;

      // reset feedback to neutral (waiting)
      iconAndResult.innerHTML = 'üß© waiting ...';
      explanationText.textContent = 'choose to / from / into';

      // remove any previous extra classes / styles on options (if any)
      document.querySelectorAll('.option-btn').forEach(btn => {
        btn.style.background = '';      // reset to default
        btn.style.boxShadow = '';
      });

      // update counter
      const displayNumber = (currentIndex % questions.length) + 1;
      questionCounterSpan.textContent = `question ${displayNumber} / 20 (cycle ${Math.floor(currentIndex/20)+1})`;
    }

    // check answer handler
    function handleOptionClick(event) {
      const btn = event.currentTarget;
      const answer = btn.getAttribute('data-answer'); // "to", "from", "into"

      // if already answered, do nothing (prevent infinite clicks)
      if (userAnswered) return;

      const q = questions[currentIndex];
      const isCorrect = (answer === q.correct);

      // highlight selected button & mark others (visual only)
      document.querySelectorAll('.option-btn').forEach(btn => {
        btn.style.background = '#f0f4fa';     // revert
        btn.style.boxShadow = '0 5px 0 #b3c7d4, 0 8px 14px rgba(0,20,30,0.15)';
      });

      if (isCorrect) {
        btn.style.background = '#c4e6c4';      // light green
        btn.style.boxShadow = '0 3px 0 #3f9e4a';
        iconAndResult.innerHTML = '‚úÖ correct!';
      } else {
        btn.style.background = '#f9cfd2';      // light red/pink
        btn.style.boxShadow = '0 3px 0 #b14b4b';
        iconAndResult.innerHTML = '‚ùå not quite';
      }

      // show full explanation + correct answer
      const correctDir = q.correct;
      explanationText.innerHTML = `${q.explanation} <span style="font-weight:600;background:#ffffffb0;padding:4px 12px;border-radius:50px;margin-left:6px;">‚úî "${correctDir}"</span>`;

      // mark answered
      userAnswered = true;
      selectedAnswer = answer;
    }

    // move to next question (infinite)
    function nextQuestion() {
      // increment index, and wrap around (infinite)
      currentIndex = (currentIndex + 1) % questions.length;
      renderQuestion();
    }

    // restart from first question (index 0) (but keep infinite spirit)
    function restartLoop() {
      currentIndex = 0;
      renderQuestion();
    }

    // attach event listeners to option buttons
    function attachOptionListeners() {
      document.querySelectorAll('.option-btn').forEach(btn => {
        btn.removeEventListener('click', handleOptionClick);
        btn.addEventListener('click', handleOptionClick);
      });
    }

    // initialize first render and listeners
    function init() {
      renderQuestion();
      attachOptionListeners();

      // next button
      nextButton.addEventListener('click', () => {
        nextQuestion();
        // reattach listeners because DOM didn't change (no reflow needed, but if we wanted to be safe)
        // but the buttons remain same, but just in case we rebind:
        attachOptionListeners();
      });

      // restart button
      restartBtn.addEventListener('click', () => {
        restartLoop();
        attachOptionListeners();
      });

      // extra touch: ensure that if options are clicked again after answer, no change
      // already handled by userAnswered flag
    }

    // start everything
    init();

    // (optional) for any dynamic changes, we can re-attach after next, but buttons persist.
    // But after nextQuestion, userAnswered becomes false, so it's fine.
    // however if we click next we already call attachOptionListeners again (good)
    // also to avoid multiple listeners accumulation, we remove before add.
    // also options are static, so we could attach once, but we use remove/add to be clean.

    // one nuance: after next, we also need to remove any leftover green/red styles from options,
    // which is done inside renderQuestion (resets background). So all good.
  })();
</script>
</body>
</html>